<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Play2-html5tags : HTML5 input tags module for Play 2.0" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Play2-html5tags</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/loicdescotte/Play2-HTML5Tags">View on GitHub</a>

          <h1 id="project_title">Play2 Html5 Tags</h1>
          <h2 id="project_tagline">HTML5 input tags module for Play Framework</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/loicdescotte/Play2-HTML5Tags/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/loicdescotte/Play2-HTML5Tags/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>HTML5 input tags module for Play 2</h1>

<h2>for Java and Scala</h2>

<p>This module brings client side validation attributes (required, max|min length, ...) and formats (date, number, email, ...) to Play 2 templates.</p>

<p>The provided tags can also display forms with special input controls, like a numeric keypad to enter numbers on a smartphone.</p>

<p>Attributes are generated from the constraints defined in the model or in a form mapping. They can generate several kinds of input : </p>

<ul>
<li>text</li>
<li>email (validates that it's an email pattern)</li>
<li>tel (enables numeric keypad on mobile)</li>
<li>number (enables numeric keyboard on mobile, and specific input on other browsers) </li>
<li>date (enables date selection - through a calendar on compatible browsers)</li>
<li>url (validates that it's an url pattern)</li>
<li>search (enables special display for this kind of input)</li>
<li>password </li>
<li>custom formats (using regular expression patterns)</li>
</ul><h2>How to install it</h2>

<p>In your application, add this configuration to the <code>project/Build.scala</code> file :</p>

<div class="highlight"><pre><span class="k">val</span> <span class="n">appDependencies</span> <span class="k">=</span> <span class="nc">Seq</span><span class="o">(</span>
  <span class="c1">//your dependencies</span>
  <span class="s">"com.loicdescotte.coffeebean"</span> <span class="o">%</span> <span class="s">"html5tags_2.10"</span> <span class="o">%</span> <span class="s">"1.0"</span>
<span class="o">)</span>

<span class="k">val</span> <span class="n">main</span> <span class="k">=</span> <span class="n">play</span><span class="o">.</span><span class="nc">Project</span><span class="o">(</span><span class="n">appName</span><span class="o">,</span> <span class="n">appVersion</span><span class="o">,</span> <span class="n">appDependencies</span><span class="o">).</span><span class="n">settings</span><span class="o">(</span>
  <span class="c1">//your settings</span>
  <span class="n">resolvers</span> <span class="o">+=</span> <span class="nc">Resolver</span><span class="o">.</span><span class="n">url</span><span class="o">(</span><span class="s">"github repo for html5tags"</span><span class="o">,</span> <span class="n">url</span><span class="o">(</span><span class="s">"http://loicdescotte.github.com/releases/"</span><span class="o">))(</span><span class="nc">Resolver</span><span class="o">.</span><span class="n">ivyStylePatterns</span><span class="o">)</span>
<span class="o">)</span>
</pre></div>

<p>Note : for Play 2.0.x, use <code>"com.loicdescotte.coffeebean" % "html5tags_2.9.1" % "1.0-beta"</code> dependency.</p>

<h2>Code examples</h2>

<p>With this view template : </p>

<div class="highlight"><pre><span class="nd">@import</span> <span class="n">html5</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="k">_</span>

<span class="nd">@text</span><span class="o">(</span><span class="n">form</span><span class="o">(</span><span class="s">"name"</span><span class="o">),</span> <span class="-Symbol">'label</span> <span class="o">-&gt;</span> <span class="s">"Your name : "</span><span class="o">)</span>
<span class="nd">@number</span><span class="o">(</span><span class="n">form</span><span class="o">(</span><span class="s">"age"</span><span class="o">),</span> <span class="-Symbol">'label</span> <span class="o">-&gt;</span> <span class="s">"Your age : "</span><span class="o">)</span> 
</pre></div>

<p>If your form mapping is defined like this (Scala) :</p>

<div class="highlight"><pre><span class="n">mapping</span><span class="o">(</span>          
  <span class="s">"name"</span> <span class="o">-&gt;</span> <span class="n">nonEmptyText</span><span class="o">(</span><span class="n">maxLength</span><span class="k">=</span><span class="mi">10</span><span class="o">),</span>
  <span class="s">"age"</span> <span class="o">-&gt;</span> <span class="n">number</span>
<span class="o">)</span>
</pre></div>

<p>Or if your model contains this (Java) :</p>

<div class="highlight"><pre><span class="nd">@Constraints.Required</span>
<span class="nd">@Constraints.MaxLength</span><span class="o">(</span><span class="mi">10</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>

<span class="kd">public</span> <span class="n">Integer</span> <span class="n">age</span><span class="o">;</span>
</pre></div>

<p>The generated output will be : </p>

<div class="highlight"><pre><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"name"</span> <span class="na">name=</span><span class="s">"name"</span> <span class="na">value=</span><span class="s">""</span> <span class="na">label=</span><span class="s">"Your name : "</span> <span class="na">required</span> <span class="na">maxlength=</span><span class="s">"10"</span><span class="nt">&gt;</span>
<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"number"</span> <span class="na">id=</span><span class="s">"age"</span> <span class="na">name=</span><span class="s">"age"</span> <span class="na">value=</span><span class="s">""</span> <span class="na">label=</span><span class="s">"Your age : "</span><span class="nt">&gt;</span>
</pre></div>

<p>Then the browser will check that the <code>name</code> field is not empty and the <code>age</code> input is a number, before sending to server. 
It will also limit the length of the <code>name</code> input.</p>

<p>Note : you can check browsers compatibility for this new attributes on <a href="http://wufoo.com/html5/">wufoo</a>.</p>

<h2>A few examples with pictures</h2>

<p>Email validation :</p>

<p><img src="http://wufoo.com/html5/images/email-supported-firefox4b12.png" alt="Image"></p>

<p>Telephone number keyboard (on Safari mobile) :</p>

<p><img src="http://wufoo.com/html5/images/tel-mobsafari-supported.png" alt="Image"></p>

<h2>Available tags and formats</h2>

<p>You can use the following tags : </p>

<ul>
<li><code>@date</code></li>
<li><code>@email</code></li>
<li><code>@number</code></li>
<li><code>@password</code></li>
<li><code>@search</code></li>
<li><code>@tel</code></li>
<li><code>@text</code></li>
<li><code>@url</code></li>
</ul><p>And the following constraint values on models/mappings :</p>

<ul>
<li>required (or nonEmpty or nonEmptyText)</li>
<li>maxLength</li>
<li>minLength</li>
<li>max</li>
<li>min</li>
<li>pattern (Play 2.1(+) required)</li>
</ul><h2>Magic tag</h2>

<p>The <code>text</code> tag is able to change the input type if a specific format is detected.</p>

<p>For example, using the email constraint :</p>

<pre><code>@Constraints.Email
public String contactMail;
</code></pre>

<p>And this tag :</p>

<pre><code>@text(form("contactMail"), 'label -&gt; "Your mail : ")
</code></pre>

<p>The generated output will be :</p>

<pre><code>&lt;input type="email" id="contactMail" name="contactMail" value=""&gt;
</code></pre>

<p>And the browser will check that the field contains an email address.</p>

<p>The same trick is working with <code>number</code> input type if you use max/min constraints.</p>

<h2>Important notes</h2>

<h3>MinLength behavior</h3>

<p>As <code>minLength</code> does not exist in HTML5 specification, a regular expression pattern will be used to simulate it. 
  If you need both 'minLength' and 'pattern' on a field, write the min length constraint directly in your regex pattern. Example : add <code>{2,}</code> to your pattern for minLength=2.</p>

<h3>Browser regex patterns</h3>

<p>You can check pattern compatibility with Javascript regular expressions (used by browsers) on <a href="http://regexpal.com/">regexpal</a> (check the 'Dot matches all' option).</p>

<h2>License</h2>

<p>This project is published under the Apache License v2.0.</p>

<p>You may obtain a copy of the License at <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Play2-html5tags maintained by <a href="https://github.com/loicdescotte">loicdescotte</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
